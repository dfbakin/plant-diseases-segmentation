# Default trainer configuration

# Training duration
max_epochs: 60
min_epochs: 10

# Hardware
accelerator: "auto"  # auto, gpu, cpu, mps
devices: "auto"  # "auto" detects available GPUs, or set to specific number (1, 2, 4)
strategy: "auto"  # "auto" picks ddp for multi-gpu, or "ddp", "ddp_find_unused_parameters_true"
precision: "32"  # 16-mixed, bf16-mixed, 32

accumulate_grad_batches: 1

# Checkpointing
checkpoint:
  monitor: "val/miou"
  mode: "max"
  save_top_k: 1
  save_last: true

# Early stopping
early_stopping:
  monitor: "val/miou"
  patience: 15
  mode: "max"
  min_epochs: 20

# Logging
log_every_n_steps: 10

# Validation
val_check_interval: 1.0  # Run validation every epoch
check_val_every_n_epoch: 1

# Gradient clipping
gradient_clip_val: 1.0
gradient_clip_algorithm: "norm"

# Reproducibility
deterministic: false  # Set true for full reproducibility (slower)

